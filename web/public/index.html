<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>GharMitra - Housing Society Management</title>
    <script>
        // Capture all errors and display them on page
        window.addEventListener('error', function(e) {
            console.error('Global error caught:', e.error);
            var root = document.getElementById('root');
            if (root) {
                var errorMsg = e.error ? e.error.toString() : e.message;
                var errorStack = e.error && e.error.stack ? e.error.stack : 'No stack trace available';
                root.innerHTML = '<div style="display: flex; flex-direction: column; justify-content: center; align-items: center; height: 100vh; font-family: sans-serif; padding: 20px; text-align: center; background: #fff;"><h1 style="color: #ff4444; margin-bottom: 20px;">⚠️ JavaScript Error</h1><p style="color: #666; font-size: 18px; margin-bottom: 10px;">React failed to load</p><div style="background: #f5f5f5; padding: 15px; border-radius: 8px; max-width: 800px; margin: 20px 0; text-align: left;"><p style="color: #333; font-size: 14px; margin-bottom: 10px; font-weight: bold;">Error Message:</p><p style="color: #ff4444; font-size: 12px; margin-bottom: 15px; word-break: break-all;">' + errorMsg + '</p><details style="margin-top: 10px;"><summary style="cursor: pointer; color: #007AFF; margin-bottom: 10px;">Show Full Error Details</summary><pre style="color: #666; font-size: 11px; text-align: left; overflow-x: auto; background: #fff; padding: 10px; border-radius: 4px; margin-top: 10px;">' + errorStack + '</pre></details></div><div style="margin-top: 20px;"><p style="color: #999; font-size: 12px; margin-bottom: 10px;">To open Developer Tools, try:</p><ul style="color: #666; font-size: 11px; text-align: left; list-style: none; padding: 0;"><li>• Right-click page → "Inspect" or "Inspect Element"</li><li>• Press Ctrl + Shift + I</li><li>• Press Ctrl + Shift + J (Chrome/Edge)</li><li>• Menu (3 dots) → More Tools → Developer Tools</li></ul></div><button onclick="window.location.reload()" style="margin-top: 20px; padding: 12px 24px; background: #007AFF; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 14px; font-weight: bold;">Reload Page</button></div>';
            }
        }, true);

        // Test if bundle.js loaded
        window.addEventListener('load', function() {
            console.log('Page fully loaded');
            setTimeout(function() {
                var root = document.getElementById('root');
                // Check if React mounted (root content should have changed)
                if (root && (root.innerHTML.includes('Application is initializing') || root.innerHTML.includes('GharMitra') && !root.innerHTML.includes('Show Debug'))) {
                    console.error('React did not mount! Bundle.js may not have loaded.');
                    var bundleTest = document.querySelector('script[src*="bundle.js"]');
                    if (!bundleTest) {
                        root.innerHTML = '<div style="display: flex; flex-direction: column; justify-content: center; align-items: center; height: 100vh; font-family: sans-serif; padding: 20px; text-align: center;"><h1 style="color: #ff4444;">⚠️ Bundle.js Not Found</h1><p style="color: #666; font-size: 18px; margin-bottom: 10px;">The JavaScript bundle is not loading</p><p style="color: #999; font-size: 14px; margin-bottom: 20px;">Check if dev server is running: npm run dev</p><button onclick="window.location.reload()" style="margin-top: 20px; padding: 12px 24px; background: #007AFF; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 14px; font-weight: bold;">Reload Page</button></div>';
                    } else {
                        root.innerHTML = '<div style="display: flex; flex-direction: column; justify-content: center; align-items: center; height: 100vh; font-family: sans-serif; padding: 20px; text-align: center;"><h1 style="color: #ff4444;">⚠️ React Failed to Mount</h1><p style="color: #666; font-size: 18px; margin-bottom: 10px;">Bundle.js loaded but React did not initialize</p><p style="color: #999; font-size: 14px; margin-bottom: 20px;">There may be a JavaScript error. Check the error message above.</p><button onclick="window.location.reload()" style="margin-top: 20px; padding: 12px 24px; background: #007AFF; color: white; border: none; border-radius: 6px; cursor: pointer; font-size: 14px; font-weight: bold;">Reload Page</button></div>';
                    }
                }
            }, 5000);
        });

        // Test if basic JavaScript works
        console.log('HTML loaded, waiting for React...');
    </script>
</head>

<body style="background-color: #f5f5f5; margin: 0; padding: 0;">
    <div id="root">
        <div
            style="display: flex; flex-direction: column; justify-content: center; align-items: center; height: 100vh; font-family: sans-serif;">
            <h1 style="color: #007AFF; margin-bottom: 20px;">GharMitra</h1>
            <p style="color: #666; font-size: 18px;">Application is initializing...</p>
            <p style="color: #999; font-size: 14px; margin-top: 40px;">If this message doesn't disappear, please check
                your internet connection or backend server.</p>
        </div>
    </div>
</body>

</html>