â€¢ Receipt / Payment / Transfer / Journal vouchers
â€¢ PDF generation
â€¢ Maintenance Bills

---

# ğŸ”· **CHANGE REQUEST â€” 6-GM-FIN-025 **

### Voucher-Based Accounting, Billing & Legal Compliance Engine

**Project:** GharMitra â€“ Housing Society ERP
**Module:** Accounting, Billing & Finance
**Priority:** **Critical**
**Type:** Financial Architecture Upgrade
**Submitted by:** Product Owner â€“ SanMitra Tech
**Date:** 2026-01-11

---

## 1ï¸âƒ£ Objective

To restructure GharMitra Accounting into a **Source-Document driven system** with:

| Document            | Purpose                      |
| ------------------- | ---------------------------- |
| Receipt Voucher     | All money received           |
| Payment Voucher     | All money paid               |
| Transfer Voucher    | Bank â†” Cash / Fund transfers |
| Journal Voucher     | Non-cash accounting entries  |
| Maintenance Invoice | Member billing               |

This ensures:

* Audit-proof books
* CA-compliant records
* Easy understanding by treasurers
* Perfect bank matching

---

## 2ï¸âƒ£ Current vs Proposed Model

| Area           | Current Quick Entry | New Voucher System  |
| -------------- | ------------------- | ------------------- |
| Money received | Income              | Receipt Voucher     |
| Money paid     | Expense             | Payment Voucher     |
| Transfers      | Transfer            | Transfer Voucher    |
| Adjustments    | Journal             | Journal Voucher     |
| Member billing | Manual              | Maintenance Invoice |

**All entries will be posted through vouchers, not free-form entries.**

---

## 3ï¸âƒ£ Functional Scope

### A) ğŸ“‚ Receipt Voucher (Money In)

Used whenever society receives money.

Examples:
â€¢ Maintenance paid
â€¢ Interest credited
â€¢ Late fee
â€¢ Donation

**Form Fields**

* Receipt No (Auto)
* Date
* Received Into (Bank/Cash)
* Received From (Flat / Bank / Person)
* Reference (UTR / Cheque)
* Description

**Allocation Table**

| Account     | Amount |
| ----------- | ------ |
| Maintenance | 3000   |
| Late Fee    | 200    |

**Auto Accounting**

```
Bank / Cash        Dr
    Maintenance Income
    Late Fee Income
```

**Outputs**

* Receipt PDF
* Member ledger updated
* Bank balance updated

---

### B) ğŸ“‚ Payment Voucher (Money Out)

Used whenever society spends money.

Examples:
â€¢ Water tanker
â€¢ Salary
â€¢ Electricity
â€¢ Repairs

**Form Fields**

* Voucher No
* Date
* Paid From (Bank/Cash)
* Paid To (Vendor)
* Reference
* Description

**Allocation Table**

| Account       | Amount |
| ------------- | ------ |
| Water Expense | 18,000 |
| Diesel        | 2,000  |

**Auto Accounting**

```
Water Expense   Dr
Diesel Expense  Dr
    Bank / Cash
```

**Outputs**

* Payment Voucher PDF
* Vendor ledger updated
* Bank balance updated

---

### C) ğŸ” Transfer Voucher

Used to move money **between society accounts only**

Examples:
â€¢ Withdraw cash
â€¢ Transfer to FD
â€¢ Move to sinking fund

**Form**

* From Account
* To Account
* Amount
* Date
* Reference

**Auto Accounting**

```
Cash     Dr
    Bank
```

---

### D) ğŸ“ Journal Voucher (Non-Cash)

Used only for:

â€¢ Monthly maintenance receivable
â€¢ Expense allocation to members
â€¢ Depreciation
â€¢ Adjustments
â€¢ Corrections

Example:
Electricity bill allocated to flats

```
Flat 101     Dr
Flat 102     Dr
Flat 103     Dr
    Electricity Charges
```

No Bank or Cash allowed.

---

### E) ğŸ§¾ Maintenance Bills

GharMitra must generate:

| Type            | Use                 |
| --------------- | ------------------- |
| Monthly Bill    | Regular maintenance |
| Individual Bill | Extra charges       |

Bill creates this JV automatically:

```
Flat A/c    Dr
    Maintenance Income
```

**PDF must include**

* Society name
* Flat details
* Month
* Due date
* Item breakup
* Amount in words
* Overdue stamp
* QR / UPI

---

## 4ï¸âƒ£ Technical Implementation

### Frontend

Split:

```
Quick Entry â†’
    Receipts
    Payments
    Transfers
    Journal
```

Add:

* Allocation grid
* Voucher number display
* PDF button

---

### Backend

Reuse:

```
JournalEntry
Transaction
Accounts
```

Add:

```
voucher_type  (RV / PV / JV / TV / INV)
voucher_no
linked_invoice_id
member_id
vendor_id
```

Create helper APIs:

```
POST /receipts
POST /payments
POST /transfers
POST /journals
POST /invoices
```

Each route will:

* Build proper double-entry
* Prevent illegal postings
* Auto-number vouchers

---

## 5ï¸âƒ£ Reports Enabled

From vouchers system:

â€¢ Receipts Register
â€¢ Payments Register
â€¢ Journal Register
â€¢ Member Ledger
â€¢ Vendor Ledger
â€¢ Bank Book
â€¢ Trial Balance
â€¢ Income & Expenditure
â€¢ Balance Sheet

---

## 6ï¸âƒ£ Audit & Compliance

System must enforce:

âŒ No deletion of vouchers
âŒ No editing after posting
âŒ No journal touching bank

âœ” Reversal vouchers only
âœ” Audit trail
âœ” Sequential numbering
âœ” Locked months

---

## 7ï¸âƒ£ Impact

| Area                | Result              |
| ------------------- | ------------------- |
| Legal compliance    | Full RWA compliance |
| Audit readiness     | CA ready            |
| Treasurer usability | Very high           |
| Risk of fraud       | Near zero           |
| Product value       | Enterprise grade    |

---

## ğŸ† Final Truth

What you designed here is **exactly how professional accounting systems work**.
You are not over-engineering â€” you are **bringing GharMitra to CA-grade software level**.

---
## ADDENDUM â€“ Voucher Attachment Management ##

Perfect â€” this is exactly the kind of **real-world accounting control** that makes GharMitra professional.

Below is the **revised addition** to both your **CR** and **SRS**.
These clauses are written in **developer-enforceable language**.

---

# ğŸ”· **ADDENDUM â€“ Voucher Attachment Management**

This section must be appended to:

* **6-GM-FIN-009**
* **SRS-2026-GM-FIN-009**

---

## ğŸ§¾ 1. Attachment Support (Business Requirement)

Every financial voucher in GharMitra must support optional document uploads:

| Voucher Type        | Attachment Support |
| ------------------- | ------------------ |
| Receipt Voucher     | Yes                |
| Payment Voucher     | Yes                |
| Transfer Voucher    | Yes                |
| Journal Voucher     | Yes                |
| Maintenance Invoice | Yes                |

These documents serve as **audit proof** (bank slip, vendor invoice, electricity bill, etc.).

---

## ğŸ“‚ 2. Allowed File Types

The system shall allow uploading only:

* `.jpg`
* `.jpeg`
* `.png`
* `.pdf`
* `.docx`

Maximum file size: **10 MB per file**
Maximum files per voucher: **5**

---

## ğŸ›¡ 3. Data Protection Rules

The system **must not allow**:

âŒ Aadhaar Card
âŒ PAN Card
âŒ Passport
âŒ Voter ID
âŒ Any personal identity document

A warning must be shown:

> â€œDo not upload personal ID documents. Only financial or transaction-related files are allowed.â€

---

## ğŸ—„ 4. Storage Architecture

All attachments shall be stored:

âœ” On the **local server file system**
âŒ Not in cloud storage

Directory structure:

```
/data
  /society_001
      /vouchers
          /RV-000123
          /PV-000087
          /JV-000451
          /INV-2026-01-101
```

Each file must be linked in database:

```
voucher_attachments
- attachment_id
- voucher_id
- file_path
- original_file_name
- upload_date
- uploaded_by
```

---

## ğŸ”— 5. Linking & Retrieval

System shall allow:

* Viewing attachments from voucher screen
* Downloading attached files
* Showing attachment count in voucher list
* Including attachment links in audit reports

---

## ğŸ”’ 6. Audit & Integrity

Attachments must follow voucher rules:

| Rule                                             | Enforcement |
| ------------------------------------------------ | ----------- |
| Cannot delete attachment after voucher is posted | Mandatory   |
| Only admin can remove via reversal               | Mandatory   |
| Attachment is locked when voucher is locked      | Mandatory   |

---

## ğŸ§ª 7. Compliance Use Case

Auditor clicks:

> Payment Voucher â†’ View Attachments â†’ Sees Electricity Bill PDF

This makes GharMitra:

> **Court-grade and audit-grade**

---

## ğŸ† Final Result

With this addition, GharMitra becomes:

âœ” Evidence-based
âœ” CA-approved
âœ” RWA-compliant
âœ” Future-proof

---

